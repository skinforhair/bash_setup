#!/bin/bash

SHOWNAME=$1


PATH=`find /shares/video/tv/ -maxdepth 1 -iname "*$SHOWNAME*"`

#echo "Listing the path $PATH..."
#/bin/ls "$PATH"


COUNTER=1
CURRENT=1
FOUND=0

SeasonPath="$PATH/Season "
LeadingZeroPath="$PATH/Season 0"

while [ $FOUND -eq 0 ]; do
#	echo "looking for $SeasonPath$COUNTER ..."
#	echo "or $LeadingZeroPath$COUNTER..."
	if [ -d "$SeasonPath$COUNTER" ]; then
		CURRENT=$COUNTER
		((COUNTER+=1))
	elif [ -d "$LeadingZeroPath$COUNTER" ]; then
		CURRENT="0$COUNTER"
		((COUNTER+=1))
	else
#		echo "$SeasonPath$COUNTER or $LeadingZeroPath$COUNTER"
		FOUND=1
	fi
#if [ $COUNTER -gt 10 ]; then
#	echo BREAK
#	FOUND=1
#fi
done

FULLPATH="$PATH/Season $CURRENT"

for i in "$FULLPATH"/*; do
	/bin/basename "$i"
done
