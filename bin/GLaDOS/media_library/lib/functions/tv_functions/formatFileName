#!/bin/bash

## function to get tv show filename into appropriate format
formatFileName() {
fnew=$1
#change spaces to periods
fnew=`echo "$fnew" | sed 's/\ /./g'`

#change brackets and parens to periods
fnew=`echo "$fnew" |sed 's/\ \[/./g'`
fnew=`echo "$fnew" |sed 's/\]\ /./g'`

#remove commas, apsotrophes, quotes, and question marks
fnew=`echo "$fnew" |sed "s/'//g"`
fnew=`echo "$fnew" |sed "s/,//g"`
fnew=`echo "$fnew" |sed 's/"//g'`
fnew=`echo "$fnew" |sed "s/?//g"`

fnew=`echo "$fnew" |sed "s/\.-\././g"`
#echo "$fnew"

#change things like 4x02 to S04E02
fnew=`echo "$fnew" |sed -r "s#([1-9]{1,2}x)#S0\1#g"`
#echo "-$fnew"
fnew=`echo "$fnew" |sed -r "s#x([0-9]{2})#E\1#g"`
#echo "-- $fnew"
fnew=`echo "$fnew" |sed -r "s#S0([0-9]{2})#S\1#g"`
#echo "--- $fnew"
fnew=`echo "$fnew" |sed "s#0S#S#g"`
#echo "---- $fnew"
fnew=`echo "$fnew" |sed -r "s#.([0-9]{1,2}E[0-9]{1,2})#.S\1#g"`
#echo "----- $fnew"

#inputFile=$fnew

#echo "inputFile is now $inputFile"
echo "$fnew"
} # end formatFileName

